version: '2.1'
services:
  joule:
    build: ../../.
    links:
      - nilmdb
      - timescale
    depends_on:
      - timescale
      - nilmdb
    entrypoint: /joule/tests/e2e/bootstrap_inner.py
  nilmdb:
    image: jdonnal/nilmdb
    logging:
      driver: none
    stop_signal: SIGKILL
  timescale:
    image: timescale/timescaledb:latest-pg10
    environment:
      POSTGRES_PASSWORD: password
    logging:
      driver: none
